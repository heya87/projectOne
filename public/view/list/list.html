<!DOCTYPE html>
<html>
  <head>
    <title>ProjectOne</title>
    <link id="theme" rel="stylesheet" href="../../style/style.css" />

    <script src="../../libs/handlebars-v4.1.2.js" defer></script>
    <script src="../../util/handlebars-helpers.js" defer></script>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Bucket List</h1>
      </div>
      <div class="nav">
        <input id="styleSwitcher" type="checkbox" />
      </div>
      <div class="left"></div>
      <div class="content">
        <div class="flex">
          <h2 class="subtitle">Things to do</h2>
          <span class="spacer"></span>
          <button class="button1" id="navigateToCreate">
            Just had a new idea!
          </button>
        </div>
        <fieldset>
          <legend>Filter</legend>
          <form id="orderForm" class="flex">
            <label>Order by:</label>
            <label class="alignleft">
              <input id="orderByEndDate" type="radio" name="orderType" />
              Due by
            </label>
            <label class="alignleft">
              <input id="orderByCreateDate" type="radio" name="orderType" />
              Create date
            </label>
            <label class="alignleft">
              <input id="orderByRelevance" type="radio" name="orderType" />
              Relevance
            </label>
            <span class="spacer"></span>
            <label class="alignrigth">
              <input id="showDone" type="checkbox" />
              Done
            </label>
          </form>
        </fieldset>

        <div id="thingContainer"></div>
      </div>
      <div class="right"></div>
      <div class="footer"></div>
    </div>

    <script type="module" src="./list-bootstrapper.js" defer></script>

    <script id="thing-template" type="text/x-handlebars-template">
      <table class="table table-striped">
          <thead>
          <tr>
              <th>Description</th>
              <th>Relevance</th>
              <th>Due to</th>
              <th>Create date</th>
              <th>State</th>
              <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          {{#each things}}
          <tr>
              <td>{{description}}</td>
              <td>{{relevance}}</td>
              <td>{{formatDate endDate}}</td>
              <td>{{formatDate createDate}}</td>
              <td>{{state}}</td>
              <td>{{#ifCond state '===' 'NEW'}}
                  <button data-id="{{_id}}" class="button1 btn btn-default js-edit">Edit</button>
                  <button data-id="{{_id}}" class="button1 btn btn-default js-done">Been there, done that!</button>
                  {{/ifCond}}
              </td>
          </tr>
          {{/each}}
          </tbody>
      </table>
    </script>
  </body>
</html>
